  
<div class="container">
    <div class="cata_title">
        <h2>CATALOGUE</h2>
    </div>
    <div class="catalogue_div">
        <% if @post_last_attach.nil?%>
        <% else %>
        <ul class="bxslider">
          <% @post_last_attachs.each do |po| %>
          <li><p style="vertical-align:center; text-align:center"><%=image_tag po.avatar%></p></li>
       <% end %>
        </ul>
        <div id="bx-pager">
            <% @post_last_attachs.each do |po| %>
            <a data-slide-index="<%=po.id_of_pic%>" href=""><%=image_tag po.avatar%></a>
            <% end %>
        </div>
        <% end %>
        <% if @post_last_attach.nil?%>
        <% else %>
        <div class="pagination_div"><%= will_paginate @post_last_attachs, :previous_label => t("<<"), :next_label => t(">>")%></div>
        <% end %>
    </div>
    <div class="mainpage_title">
        <h2>ALL CATALOGUE</h2>
    </div>
    <div class="catalogue_all">
        <% @posts.each do |post| %>
        <a href="/cn/catalog_detail/<%=post.id%>">
        <div class="book">
            <%= image_tag post.post_attachments.first.avatar%>
            <p><%= post.title %></p>
        </div>
        </a>
        <% end %>
         
    </div>
</div>
<style>
    #bx-pager img {
        width:150px;
        margin-left:20px;
    }
    #bx-pager {
        margin:0 auto;
        text-align:center;
    }
    .bx-wrapper img {
        text-align:center;
        vertical-align:middle;
        max-height:500px;
        margin:auto auto;
    }
    .bx-wrapper .bx-viewport {
    box-shadow: none;
    border: none;
   
    }
    .bx-wrapper {
        height:600px;
    }
</style>
<script>
   $('.bxslider').bxSlider({
      pagerCustom: '#bx-pager',
      auto: true,
  autoControls: true
    });
    
  $(document).ready(function() {
  var divs = document.getElementsByClassName('bx-wrapper');
  for (var i = 0; i < divs.length; ++i) {
    var div = divs[i];
    var divAspect = div.offsetHeight / div.offsetWidth;
    div.style.overflow = 'hidden';
    
    var img = div.querySelector('img');
    var imgAspect = img.height / img.width;

    if (imgAspect <= divAspect) {
      // 이미지가 div보다 납작한 경우 세로를 div에 맞추고 가로는 잘라낸다
      var imgWidthActual = div.offsetHeight / imgAspect;
      var imgWidthToBe = div.offsetHeight / divAspect;
      var marginLeft = -Math.round((imgWidthActual - imgWidthToBe) / 2)
      img.style.cssText = 'width: 100%; height: auto; margin-left: '
                      + marginLeft + 'px;'
    } else {
      // 이미지가 div보다 길쭉한 경우 가로를 div에 맞추고 세로를 잘라낸다
      img.style.cssText = 'width: auto; height: 100%; margin-left: 0;';
    }
  }
  });
</script>






<!--<div class="container" style="margin-top:100px;">-->
<!--<p id="notice"><%= notice %></p>-->

<!--<h1>Listing Posts</h1>-->

<!--<table>-->
<!--  <thead>-->
<!--    <tr>-->
<!--      <th>Title</th>-->
<!--      <th colspan="3"></th>-->
<!--    </tr>-->
<!--  </thead>-->

<!--  <tbody>-->
<!--    <% @posts.each do |post| %>-->
<!--      <tr>-->
<!--        <td><%= post.title %></td>-->
<!--        <td><%= link_to 'Show', post %></td>-->
<!--        <td><%= link_to 'Edit', edit_post_path(post) %></td>-->
<!--        <td><%= link_to 'Destroy', post, method: :delete, data: { confirm: 'Are you sure?' } %></td>-->
<!--      </tr>-->
<!--    <% end %>-->
<!--  </tbody>-->
<!--</table>-->

<!--<br>-->


<!--</div>-->